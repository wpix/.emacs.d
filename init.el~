(require 'package)
(add-to-list 'package-archives '("melpa" . "http://melpa.org/packages/"))
(add-to-list 'package-archives
	     '("marmalade" . "http://marmalade-repo.org/packages/"))
(add-to-list 'package-archives '("org" . "http://orgmode.org/elpa/"))
(package-initialize)
;; mute notifications and sounds
(setq use-dialog-box nil)
(setq ring-bell-function 'ignore)

;;themes
(load-theme 'dracula t)

;; modes
(delete-selection-mode 1)
;; helm and ido settings
(require 'helm-config)
(helm-mode 1)
(global-set-key (kbd "M-x") #'helm-M-x)
(global-set-key (kbd "C-x r b") #'helm-filtered-bookmarks)
;;(global-set-key (kbd "C-x C-f") #'helm-find-files)

;;(setq ido-everywhere t)
(ido-mode 1)
(global-set-key (kbd "C-x b") #'ido-switch-buffer)
(setq ido-enable-flex-matching t)
(setq ido-use-filename-at-point 'guess)
(setq ido-create-new-buffer 'always)

;;company mode
(add-hook 'after-init-hook 'global-company-mode)

;; org
(with-eval-after-load 'org       
  (setq org-startup-indented t) ; Enable `org-indent-mode' by default
  (add-hook 'org-mode-hook #'visual-line-mode))


;;notmuch setup
(add-to-list 'exec-path "/usr/local/bin/")
(setq notmuch-binary "/usr/local/bin/notmuch")
(add-to-list 'load-path (expand-file-name "~/.emacs.d/site-lisp/notmuch"))
(autoload 'notmuch "notmuch" "notmuch mail" t)
(require 'notmuch)
;; notmuch - org setup
(add-to-list 'load-path (expand-file-name "~/org-mode/lisp"))
(require 'org-notmuch)
(define-key global-map "\C-cl" 'org-store-link)


;; flyspell
(dolist (hook '(text-mode-hook))
  (add-hook hook (lambda () (flyspell-mode 1))))
(dolist (hook '(change-log-mode-hook log-edit-mode-hook))
    (add-hook hook (lambda () (flyspell-mode -1))))


;; Window resize keybindings
(global-set-key (kbd "C-S-M-w") 'windmove-up)
(global-set-key (kbd "C-S-M-s") 'windmove-down)
(global-set-key (kbd "C-S-M-d") 'windmove-right)
(global-set-key (kbd "C-S-M-a") 'windmove-left)

(global-set-key (kbd "C-S-a") 'shrink-window-horizontally)
(global-set-key (kbd "C-S-d") 'enlarge-window-horizontally)
(global-set-key (kbd "C-S-s") 'shrink-window)
(global-set-key (kbd "C-S-w") 'enlarge-window)






(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(gnus-treat-hide-citation-maybe t)
 '(ido-enable-flex-matching t)
 '(ispell-highlight-face (quote flyspell-incorrect))
 '(notmuch-address-internal-completion (quote (received nil)))
 '(notmuch-draft-folder "Drafts")
 '(notmuch-draft-save-plaintext nil)
 '(notmuch-fcc-dirs (quote ((".*" . "sent"))))
 '(notmuch-hello-sections
   (quote
    (notmuch-hello-insert-saved-searches notmuch-hello-insert-search notmuch-hello-insert-recent-searches notmuch-hello-insert-alltags notmuch-hello-insert-footer)))
 '(notmuch-saved-searches
   (quote
    ((:name "inbox" :query "tag:inbox" :key "i" :search-type tree)
     (:name "unread" :query "tag:unread" :key "u" :search-type tree)
     (:name "flagged" :query "tag:flagged" :key "f" :search-type tree)
     (:name "sent" :query "tag:sent" :key "t" :search-type tree)
     (:name "drafts" :query "tag:draft" :key "d")
     (:name "all mail" :query "*" :key "l")
     (:name "archives" :query "tag:archive" :key "a" :search-type tree)
     (:name "carol" :query "carol")
     (:name "blendell" :query "blendell"))))
 '(notmuch-show-logo nil)
 '(package-selected-packages (quote (doom-themes langtool company dracula-theme helm)))
 '(send-mail-function (quote smtpmail-send-it)))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(font-lock-function-name-face ((t (:foreground "orchid1"))))
 '(message-header-cc ((t (:foreground "orchid1"))))
 '(notmuch-tree-match-author-face ((t (:foreground "orchid1"))))
 '(notmuch-tree-match-tag-face ((t (:foreground "orchid1"))))
 '(org-level-1 ((t (:inherit bold :foreground "#ff79c6" :height 1.4))))
 '(org-level-2 ((t (:inherit bold :foreground "#bd93f9" :height 1.3))))
 '(org-level-3 ((t (:foreground "PaleVioletRed1" :weight bold :height 1.2))))
 '(org-level-4 ((t (:foreground "#f1fa8c" :weight normal :height 1.1))))
 '(org-level-5 ((t (:foreground "violet" :weight normal))))
 '(success ((t (:foreground "DarkOliveGreen2" :weight bold)))))
